---

description: Разделение bot/core и зависимостей
globs:
  - src/**
alwaysApply: true
---
- В `src/core/**` нельзя импортировать ничего из `src/bot/**` (core не знает о Telegram и фреймворках).
- В `src/bot/**` разрешено использовать `core` только через публичные сервисы/агентов (`src/core/**`), а не напрямую через низкоуровневые библиотеки.
- Логику, которую потенциально можно переиспользовать вне Telegram (LLM, парсер, работа с БД, бизнес-правила), выносите в `src/core/**`.
- В `src/bot/**` оставляйте только wiring: команды, middlewares, handlers, keyboards и вызовы сервисов из core.
- При сомнениях: модуль должен компилироваться и использоваться без grammy — значит ему место в `src/core`.